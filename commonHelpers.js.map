{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function fetchPhotos(search) {\n  return fetch(\n    `https://pixabay.com/api/?key=42494540-1ca0643de0a334de28e64a581&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n         if (!response.ok) {\n         throw new Error(response.status);\n    }\n    return response.json();\n    })\n    \n    .then(data => { \n          if (data.hits.length === 0) {\n          iziToast.error({\n            timeout: 1000,\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n     }\n    return data;\n    })\n\n    .catch(error => {\n          console.error('Error', error);\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n","export function createMarkup(data)\n{\n  return data.hits\n    .map(\n      data =>\n        `<li class=\"image-search\">\n        <a class=\"gallery-link\" href=\"${data.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"/>\n        </a>\n        <ul class=\"gallery-image-info\">\n          <li class=\"image-items\">\n            <p class=\"image-info\"><span class=\"text\">Likes</span>${data.likes}</p>\n            <p class=\"image-info\"><span class=\"text\">Views</span>${data.views}</p>\n            <p class=\"image-info\"><span class=\"text\">Comments</span>${data.comments}</p>\n            <p class=\"image-info\"><span class=\"text\">Downloads</span>${data.downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n};\n\n\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\n\n\n\nconst searchForm = document.querySelector('.searchForm');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 150,\n});\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  console.log(searchForm.elements.search.value);\n  const search = searchForm.elements.search.value;\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n  if (search === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n    return;\n  };\n  \n\n  fetchPhotos(search)\n    .then(res => {\n      console.log(res);\n      gallery.innerHTML = createMarkup(res);\n      lightbox.refresh();\n    })\n    .then(data => {\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      console.error('Error fetching data!', error);\n    });\n   \n  searchForm.reset();\n});\n\n"],"names":["fetchPhotos","search","response","data","iziToast","error","createMarkup","searchForm","gallery","lightbox","SimpleLightbox","loader","e","res"],"mappings":"6vBAIO,SAASA,EAAYC,EAAQ,CAClC,OAAO,MACL,qEAAqEA,CAAM,0DAC5E,EACE,KAAKC,GAAY,CACb,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEpC,OAAOA,EAAS,MACpB,CAAK,EAEA,KAAKC,IACIA,EAAK,KAAK,SAAW,GACzBC,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,0EACd,CAAW,EAEAD,EACN,EAEA,MAAME,GAAS,CACV,QAAQ,MAAM,QAASA,CAAK,CACtC,CAAK,CACL,CC9BO,SAASC,EAAaH,EAC7B,CACE,OAAOA,EAAK,KACT,IACCA,GACE;AAAA,wCACgCA,EAAK,aAAa;AAAA,0CAChBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,mEAIXA,EAAK,KAAK;AAAA,mEACVA,EAAK,KAAK;AAAA,sEACPA,EAAK,QAAQ;AAAA,uEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,YAIhF,EACA,KAAK,EAAE,CACZ,CCHA,MAAMI,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EAE/CJ,EAAW,iBAAiB,SAAUK,GAAK,CACzCA,EAAE,eAAc,EAChB,QAAQ,IAAIL,EAAW,SAAS,OAAO,KAAK,EAC5C,MAAMN,EAASM,EAAW,SAAS,OAAO,MAG1C,GAFAC,EAAQ,UAAY,GACpBG,EAAO,MAAM,QAAU,QACnBV,IAAW,GAAI,CACjBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MAEJ,CAEEJ,EAAYC,CAAM,EACf,KAAKY,GAAO,CACX,QAAQ,IAAIA,CAAG,EACfL,EAAQ,UAAYF,EAAaO,CAAG,EACpCJ,EAAS,QAAO,CACtB,CAAK,EACA,KAAKN,GAAQ,CACZQ,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMN,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,EAEHE,EAAW,MAAK,CAClB,CAAC"}